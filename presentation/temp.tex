\documentclass[american]{beamer}
\usetheme{Boadilla}
\beamertemplatenavigationsymbolsempty

\usepackage{amsfonts}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{babel}
\usepackage{textcomp}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{stmaryrd}
\usepackage{setspace}
\usepackage{hyperref}
\usepackage[mathscr]{euscript}
\usepackage{csquotes}
\usepackage{tikz}
\usetikzlibrary{arrows,automata,shapes,positioning}
\usepackage{xcolor}

\newcommand{\LTSt}{LTS\textsubscript{t}}
\newcommand{\HMLt}{HML\textsubscript{t}}

\newcommand{\lts}[1]{%
\begin{center}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,every node/.style={scale=.85},node distance=1.8cm]
\tikzstyle{every state}=[ellipse]
{#1}
\end{tikzpicture}
\end{center}
}

\newcommand{\outlinegraph}[1]{%
\begin{center}
\scalebox{0.7}{
\begin{tikzpicture}[node distance=0.5cm and 2cm]
    \tikzstyle{every node}=[draw, inner sep=10pt]
    {#1}
\end{tikzpicture}
}
\end{center}
}

\title{Reducing Reactive to Strong Bisimilarity}
\subtitle{Bachelor's thesis}
\author{Max Pohlmann}
\institute{TU Berlin}
\date{\today}

\begin{document}

\begin{frame}{Reducing Reactive to Strong Bisimilarity}
    \scalebox{0.85}{\vbox{\lts{
        \node<-2,4->[state] (P) {$p$};
        \node<3>[red,state] (P) {$p$};
    
        \node[state] (Q) [below left of=P] {$p_1$};
        \node[state] (R) [below right of=P] {$p_2$};
        \node[state] (S) [below left of=R] {$p_3$};
        \node[state] (T) [below right of=R] {$p_4$};
        
        \draw<-4,6->[->,shorten >=1pt] (P) to node[above left] {$a$} (Q);
        \draw<5>[red,->,shorten >=1pt] (P) to node[above left] {$a$} (Q);
    
        \draw<-3,5->[->,shorten >=1pt] (P) to node[above right] {$t$} (R);
        \draw<4>[red,->,shorten >=1pt] (P) to node[above right] {$t$} (R);
        
        \draw<-5>[->,shorten >=1pt] (R) to node[above left] {$\tau$} (S);
        \draw<6,7>[red,->,shorten >=1pt] (R) to node[above left] {$\tau$} (S);
        
        \draw[->,shorten >=1pt] (R) to node[above right] {$a$} (T);
    
    
        \node[state] (Pt) [right of=P, xshift=4.5cm] {$\vartheta(p)$};
        \node[state] (Pa) [below left of=Pt] {$\vartheta_{\{a\}}(p)$};
        \node[state] (Pe) [below right of=Pt] {$\vartheta_\emptyset(p)$};
        \node[state] (Rt) [right of=Pe] {$\vartheta(p_2)$};
        \node[state] (Qt) [below of=Pa] {$\vartheta(p_1)$};
        \node[state] (Re) [below of=Pe] {$\vartheta_\emptyset(p_2)$};
        \node[state] (Se) [below of=Re] {$\vartheta_\emptyset(p_3)$};
        \node[state] (Ra) [below of=Rt,xshift=1.8cm] {$\vartheta_{\{a\}}(p_2)$};
        \node[state] (Tt) [right of=Ra,xshift=.7cm] {$\vartheta(p_4)$};
        \node[state] (Sa) [below of=Ra] {$\vartheta_{\{a\}}(p_3)$};
        \node[state] (St) [right of=Se,yshift=-2cm] {$\vartheta(p_3)$};
        
        \draw<1,3->[->,shorten >=1pt] (Pt) to node[above left] {$\varepsilon_{\{a\}}$} (Pa);
        \draw<2>[red,->,shorten >=1pt] (Pt) to node[above left] {$\varepsilon_{\{a\}}$} (Pa);
    
        \draw<1,3->[->,shorten >=1pt] (Pt) to node[left] {$\varepsilon_\emptyset$} (Pe);
        \draw<2>[red,->,shorten >=1pt] (Pt) to node[left] {$\varepsilon_\emptyset$} (Pe);
    
        \draw<-2,4->[->,shorten >=1pt] (Pe) to[bend right] node[right] {$t_\varepsilon$} (Pt);
        \draw<3>[red,->,shorten >=1pt] (Pe) to[bend right] node[right] {$t_\varepsilon$} (Pt);
    
        \draw<-4,6->[->,shorten >=1pt] (Pa) to node[left] {$a$} (Qt);
        \draw<5>[red,->,shorten >=1pt] (Pa) to node[left] {$a$} (Qt);
    
        \draw<-3,5->[->,shorten >=1pt] (Pe) to node[left] {$t$} (Re);
        \draw<4>[red,->,shorten >=1pt] (Pe) to node[left] {$t$} (Re);
    
        \draw<-5,7->[->,shorten >=1pt] (Re) to node[left] {$\tau$} (Se);
        \draw<6>[red,->,shorten >=1pt] (Re) to node[left] {$\tau$} (Se);
        
        \draw[->,shorten >=1pt] (Rt) to node[right] {$\varepsilon_{\{a\}}$} (Ra);
        \draw[->,shorten >=1pt] (Rt) to node[left] {$\varepsilon_\emptyset$} (Re);
        \draw[->,shorten >=1pt] (Ra) to node[above] {$a$} (Tt);
        
        \draw<-5,7->[->,shorten >=1pt] (Ra) to node[left] {$\tau$} (Sa);
        \draw<6>[red,->,shorten >=1pt] (Ra) to node[left] {$\tau$} (Sa);
        
        \draw[->,shorten >=1pt] (Se) to node[above] {$t_\varepsilon$} (St);
        \draw[->,shorten >=1pt] (St) to[bend left] node[left] {$\varepsilon_\emptyset$} (Se);
        \draw[->,shorten >=1pt] (Sa) to node[above] {$t_\varepsilon$} (St);
        \draw[->,shorten >=1pt] (St) to[bend right] node[right] {$\varepsilon_{\{a\}}$} (Sa);
    
        \draw<-6>[->,shorten >=1pt] (Rt) to node[right] {$\tau$} (St);
        \draw<7>[red,->,shorten >=1pt] (Rt) to node[right] {$\tau$} (St);
                
        \coordinate [below of=Qt,yshift=10pt] (Qc);
        \coordinate [below of=Tt,yshift=10pt] (Tc);
                
        \draw [dotted,->,shorten >= 7pt] (Qt) to[bend right] node[left] {$\varepsilon_{\dots}$} (Qc);
        \draw [dotted,->,shorten <= 7pt] (Qc) to[bend right] node[right] {$t_\varepsilon$} (Qt);
        \draw [dotted,->,shorten >= 7pt] (Tt) to[bend right] node[left] {$\varepsilon_{\dots}$} (Tc);
        \draw [dotted,->,shorten <= 7pt] (Tc) to[bend right] node[right] {$t_\varepsilon$} (Tt);
    }}}
    \only<2>{$(1)\,\frac{}{\vartheta(p) \xrightarrow{\varepsilon_X}_\vartheta \vartheta_X(p)} \; X \subseteq A$}
    \only<7>{$(2)\,\frac{p \xrightarrow{\tau} p'}{\vartheta(p) \xrightarrow{\tau}_\vartheta \vartheta(p')}$}
    \only<3>{$(3)\,\frac{p \not\xrightarrow{\alpha} \text{ for all } \alpha \in X \cup \{\tau\}}{\vartheta_X(p) \xrightarrow{t_\varepsilon}_\vartheta \vartheta(p)}$}
    \only<5>{$(4)\,\frac{p \xrightarrow{a} p'}{\vartheta_X(p) \xrightarrow{a}_\vartheta \vartheta(p')} \; a \in X$}
    \only<6>{$(5)\,\frac{p \xrightarrow{\tau} p'}{\vartheta_X(p) \xrightarrow{\tau}_\vartheta \vartheta_X(p')}$}
    \only<4>{$(6)\,\frac{p \not\xrightarrow{\alpha} \text{ for all } \alpha \in X \cup \{\tau\} \quad p \xrightarrow{t} p'}{\vartheta_X(p) \xrightarrow{t}_\vartheta \vartheta_X(p')}$}
\end{frame}

\end{document}
%
\begin{isabellebody}%
\setisabellecontext{Reduction{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}Bisimilarity}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Reduction of Bisimilarity%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
\label{sec:reduction_bisimilarity}%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
The main result of this section will be that two processes $p$ and $q$ of an \LTSt{} $\mathbb{T}$ are strongly reactive bisimilar (strongly $X$-bisimilar) iff the corresponding processes $\vartheta(p)$ and $\vartheta(q)$ ($\vartheta_X(p)$ and $\vartheta_X(q)$) of $\mathbb{T}_\vartheta$ are strongly bisimilar. 

We show the $\Longrightarrow$-direction first. For an SRB $\mathcal{R}$, let
$$\mathcal{S} = \{ (\vartheta(p), \vartheta(q)) \mid (p, q) \in R \} \cup \{ (\vartheta_X(p), \vartheta_X(q)) \mid (p, X, q) \in R \}.$$
We can prove that $\mathcal{S}$ is an SB, by showing that the mapping satiesfies all clauses of the definition of SBs, using the fact that $\mathcal{R}$ is an SRB as well as the rules and generation lemmas for $\rightarrow_\vartheta$. Hence, the existence of an SRB $\mathcal{R}$ with $(p, q) \in R$ implies the existence of an SB $\mathcal{S}$ with $(\vartheta(p), \vartheta(q)) \in \mathcal{S}$ (and similarly for $\vartheta_X$), so strong reactive/$X$-bisimilarity in $\mathbb{T}$ implies strong bisimilarity in $\mathbb{T}_\vartheta$.

Next, we show the $\Longleftarrow$-direction. Let
$$\mathcal{R} = \{ (p, q) \mid \vartheta(p) \leftrightarrow \vartheta(q) \} \cup \{ (p, X, q) \mid \vartheta_X(p) \leftrightarrow \vartheta_X(q) \}.$$
We can prove that $\mathcal{R}$ is an SRB, again, by showing that all clauses of the definition are satisfied. Hence, strong bisimilarity of $\vartheta(p)$ and $\vartheta(q)$ implies the existence of an SRB $\mathcal{R}$ with $(p, q) \in \mathcal{R}$ (and similarly for $\vartheta_X$), so strong bisimilarity in $\mathbb{T}_\vartheta$ implies strong reactive/$X$-bisimilarity in $\mathbb{T}$.

Thus, we have that strong reactive/$X$-bisimilarity in $\mathbb{T}$ corresponds to strong bisimilarity in $\mathbb{T}_\vartheta$.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Isabelle%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
We begin by \emph{interpreting} our transition mapping \isa{tran{\isacharunderscore}{\kern0pt}theta} as an \isa{lts} and call it \isa{lts{\isacharunderscore}{\kern0pt}theta}. Therefore, we are handling two separate LTSs: the \LTSt{} $\mathbb{T}$ given by the local \isa{context\ lts{\isacharunderscore}{\kern0pt}timeout{\isacharunderscore}{\kern0pt}mappable}, and the LTS $\mathbb{T}_\vartheta$ given by the \isa{interpretation\ lts{\isacharunderscore}{\kern0pt}theta}.
When referring to definitions involving the transition relation of \isa{lts{\isacharunderscore}{\kern0pt}theta}, we have to prefix them, e.g.\@ \isa{lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}SB} for the definition of strong bisimulations using \isa{{\isasymlongmapsto}\isactrlsup {\isasymtheta}} instead of \isa{{\isasymlongmapsto}}.

By default, \isa{interpretation}s do not import special notation, so we reassign strong bisimilarity notation \isa{{\isasymleftrightarrow}} to \isa{lts{\isacharunderscore}{\kern0pt}theta}, since we do not care about strong bisimilarity in $\mathbb{T}$.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{context}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}timeout{\isacharunderscore}{\kern0pt}mappable\ \isakeyword{begin}\isanewline
\isanewline
\isacommand{interpretation}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isacharcolon}{\kern0pt}\ lts\ tran{\isacharunderscore}{\kern0pt}theta%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{no{\isacharunderscore}{\kern0pt}notation}\isamarkupfalse%
\ local{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar\ {\isacharparenleft}{\kern0pt}{\isacartoucheopen}{\isacharunderscore}{\kern0pt}\ {\isasymleftrightarrow}\ {\isacharunderscore}{\kern0pt}{\isacartoucheclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{7}}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{7}}{\isadigit{0}}{\isacharbrackright}{\kern0pt}\ {\isadigit{7}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{notation}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar\ {\isacharparenleft}{\kern0pt}{\isacartoucheopen}{\isacharunderscore}{\kern0pt}\ {\isasymleftrightarrow}\ {\isacharunderscore}{\kern0pt}{\isacartoucheclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{7}}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{7}}{\isadigit{0}}{\isacharbrackright}{\kern0pt}\ {\isadigit{7}}{\isadigit{0}}{\isacharparenright}{\kern0pt}%
\begin{isamarkuptext}%
We can now formalise the proof as described above.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{If \dots{} (\boldmath{$\Longrightarrow$})%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}mapping\ %
\isamarkupcmt{$\mathcal{S}$%
}\ \isanewline
\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isasymRightarrow}{\isacharprime}{\kern0pt}a\ set\ option{\isasymRightarrow}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ bool{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}ss{\isasymRightarrow}{\isacharprime}{\kern0pt}ss\ {\isasymRightarrow}\ bool{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \isakeyword{where}\ {\isacartoucheopen}SRB{\isacharunderscore}{\kern0pt}mapping\ R\ P\ Q\ {\isasymequiv}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}\ p\ q{\isachardot}{\kern0pt}\ P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ R\ p\ None\ q{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}\ p\ q\ X{\isachardot}{\kern0pt}\ P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}SB{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isacartoucheopen}SRB\ R{\isacartoucheclose}\isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}SB\ {\isacharparenleft}{\kern0pt}SRB{\isacharunderscore}{\kern0pt}mapping\ R{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isacartoucheopen}lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}SB\ {\isacharquery}{\kern0pt}S{\isacartoucheclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ P\ Q\ P{\isacharprime}{\kern0pt}\ a\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacartoucheopen}{\isacharquery}{\kern0pt}S\ P\ Q{\isacartoucheclose}\isanewline
\ \ \ \ \ \ {\isacartoucheopen}P\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ P{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}Q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharquery}{\kern0pt}S\ P{\isacharprime}{\kern0pt}\ Q{\isacharprime}{\kern0pt}\ {\isasymand}\ Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}S\ P\ Q{\isacartoucheclose}\ \isacommand{unfolding}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ disjE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}p\ q{\isachardot}{\kern0pt}\ P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ R\ p\ None\ q{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ p\ q\ \isakeyword{where}\ {\isacartoucheopen}P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p\ None\ q{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}P\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ P{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}{\isasymexists}X{\isachardot}{\kern0pt}\ a\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ {\isasymand}\ P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacharparenright}{\kern0pt}\ {\isasymor}\ a\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymlongmapsto}{\isasymtau}\ \ p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}triggered{\isacharunderscore}{\kern0pt}transitions\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}Q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymexists}p\ q{\isachardot}{\kern0pt}\ P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ R\ p\ None\ q{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ {\isasymor}\ {\isacharparenleft}{\kern0pt}{\isasymexists}p\ q\ X{\isachardot}{\kern0pt}\ P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ X{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ {\isacartoucheopen}Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymepsilon}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ env{\isacharunderscore}{\kern0pt}stabilise\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}ruleformat{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}R\ p\ None\ q{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymepsilon}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ {\isasymepsilon}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ q\ {\isasymlongmapsto}{\isasymtau}\ \ q{\isacharprime}{\kern0pt}\ {\isasymand}\ R\ p{\isacharprime}{\kern0pt}\ None\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}ruleformat{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}R\ p\ None\ q{\isacartoucheclose}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p\ None\ q{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}P\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ P{\isacharprime}{\kern0pt}{\isacartoucheclose}\ generation{\isacharunderscore}{\kern0pt}triggered{\isacharunderscore}{\kern0pt}tau\ SRB{\isacharunderscore}{\kern0pt}ruleformat{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ triggered{\isacharunderscore}{\kern0pt}tau{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}p\ q\ X{\isachardot}{\kern0pt}\ P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ p\ q\ X\ \isakeyword{where}\ {\isacartoucheopen}P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}ruleformat{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}P\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ P{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}{\isasymepsilon}\ {\isasymor}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymlongmapsto}a\ p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}stable{\isacharunderscore}{\kern0pt}transitions\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}{\isasymepsilon}\ {\isasymor}\ a\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymor}\ a\ {\isacharequal}{\kern0pt}\ t\ {\isasymor}\ a\ {\isasymin}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ visible{\isacharunderscore}{\kern0pt}actions{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}Q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymexists}p\ q{\isachardot}{\kern0pt}\ P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ R\ p\ None\ q{\isacharparenright}{\kern0pt}\ {\isasymor}\ {\isacharparenleft}{\kern0pt}{\isasymexists}p\ q\ X{\isachardot}{\kern0pt}\ P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymand}\ R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ disjE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}{\isasymepsilon}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}P\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ P{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}idle\ p\ X{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}env{\isacharunderscore}{\kern0pt}timeout\ \isacommand{by}\isamarkupfalse%
\ fast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}idle\ q\ X{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ GSRB{\isacharunderscore}{\kern0pt}preserves{\isacharunderscore}{\kern0pt}idleness\ SRB{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}GSRB\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t{\isacharunderscore}{\kern0pt}{\isasymepsilon}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ env{\isacharunderscore}{\kern0pt}timeout\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ {\isacartoucheopen}idle\ p\ X{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}R\ p\ None\ q{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}ruleformat{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t{\isacharunderscore}{\kern0pt}{\isasymepsilon}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}{\isasymepsilon}{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ {\isasymtau}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}P\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ P{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{obtain}\isamarkupfalse%
\ p{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}p\ {\isasymlongmapsto}{\isasymtau}\ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}stable{\isacharunderscore}{\kern0pt}tau\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ \isacommand{obtain}\isamarkupfalse%
\ q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}q\ {\isasymlongmapsto}{\isasymtau}\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}ruleformat{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymtau}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stable{\isacharunderscore}{\kern0pt}tau\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ {\isasymtau}{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ t{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}P\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ P{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{obtain}\isamarkupfalse%
\ p{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}idle\ p\ X{\isacartoucheclose}\ {\isacartoucheopen}\ p\ {\isasymlongmapsto}t\ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}timeout\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ \isacommand{obtain}\isamarkupfalse%
\ q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}q\ {\isasymlongmapsto}t\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}ruleformat{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}idle\ p\ X{\isacartoucheclose}\ {\isacartoucheopen}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}idle\ q\ X{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ GSRB{\isacharunderscore}{\kern0pt}preserves{\isacharunderscore}{\kern0pt}idleness\ SRB{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}GSRB\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}q\ {\isasymlongmapsto}t\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ {\isacartoucheopen}idle\ q\ X{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sys{\isacharunderscore}{\kern0pt}timeout\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ t{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{thm}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}ruleformat\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isasymin}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}P\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ P{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}P\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{obtain}\isamarkupfalse%
\ p{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}a\ {\isasymin}\ X{\isacartoucheclose}\ {\isacartoucheopen}P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}p\ {\isasymlongmapsto}a\ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}tran{\isacharunderscore}{\kern0pt}visible\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ \isacommand{obtain}\isamarkupfalse%
\ q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}q\ {\isasymlongmapsto}a\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p{\isacharprime}{\kern0pt}\ None\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}ruleformat{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}Q\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ {\isacartoucheopen}a\ {\isasymin}\ X{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}Q\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ tran{\isacharunderscore}{\kern0pt}visible\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}P{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}R\ p{\isacharprime}{\kern0pt}\ None\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ SB{\isacharunderscore}{\kern0pt}property{\isacharunderscore}{\kern0pt}half\ {\isacharequal}{\kern0pt}\ this\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}symmetry{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ {\isacartoucheopen}{\isasymAnd}\ P\ Q{\isachardot}{\kern0pt}\ SRB\ R\ {\isasymand}\ {\isacharquery}{\kern0pt}S\ P\ Q\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}S\ Q\ P{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ SRB{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ SRB{\isacharunderscore}{\kern0pt}ruleformat{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacartoucheopen}lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}SB\ {\isacharquery}{\kern0pt}S{\isacartoucheclose}\ \isacommand{unfolding}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}SB{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ SB{\isacharunderscore}{\kern0pt}property{\isacharunderscore}{\kern0pt}half\ SRB{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}symmetry\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ srby{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}sby{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isacartoucheopen}p\ {\isasymleftrightarrow}\isactrlsub r\ q{\isacartoucheclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ SRB{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ SRB{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}SB\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}def\ strongly{\isacharunderscore}{\kern0pt}reactive{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sxby{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}sby{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isacartoucheopen}p\ {\isasymleftrightarrow}\isactrlsub r\isactrlsup X\ q{\isacartoucheclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ SRB{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ SRB{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}SB\ strongly{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}def\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{\dots{} and only if (\boldmath{$\Longleftarrow$})%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping\ %
\isamarkupcmt{$\mathcal{R}$%
}\isanewline
\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}{\isacharprime}{\kern0pt}s{\isasymRightarrow}{\isacharprime}{\kern0pt}a\ set\ option{\isasymRightarrow}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ bool{\isacartoucheclose}\isanewline
\ \ \isakeyword{where}\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharparenright}{\kern0pt}\ p\ XoN\ q\ \isanewline
\ \ \ \ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}XoN\ {\isacharequal}{\kern0pt}\ None\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}\ X{\isachardot}{\kern0pt}\ XoN\ {\isacharequal}{\kern0pt}\ Some\ X\ {\isasymand}\ X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}SRB{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}SRB\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacartoucheclose}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isacartoucheopen}SRB\ {\isacharquery}{\kern0pt}R{\isacartoucheclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ SRB{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ p\ XoN\ q\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ XoN\ q{\isacartoucheclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ q\ XoN\ p{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}symm\ \isacommand{unfolding}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ p\ X\ q\ x\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ {\isacartoucheopen}x\ {\isasymin}\ X{\isacartoucheclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacartoucheopen}x\ {\isasymin}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{unfolding}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ p\ q\ p{\isacharprime}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ None\ q{\isacartoucheclose}\ {\isacartoucheopen}p\ {\isasymlongmapsto}{\isasymtau}\ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ None\ q{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\kern0pt}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}p\ {\isasymlongmapsto}{\isasymtau}\ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymtau}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ triggered{\isacharunderscore}{\kern0pt}tau\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{obtain}\isamarkupfalse%
\ Q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymtau}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}step\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ q\ {\isasymlongmapsto}{\isasymtau}\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}triggered{\isacharunderscore}{\kern0pt}tau\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}\ q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ q\ {\isasymlongmapsto}{\isasymtau}\ q{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}p\ {\isasymlongmapsto}{\isasymtau}\ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ q\ {\isasymlongmapsto}{\isasymtau}\ \ q{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}R\ p{\isacharprime}{\kern0pt}\ None\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ p\ q\ X\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ None\ q{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ None\ q{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymepsilon}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ env{\isacharunderscore}{\kern0pt}stabilise{\isacharbrackleft}{\kern0pt}OF\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{obtain}\isamarkupfalse%
\ Q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymepsilon}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}step{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymepsilon}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}env{\isacharunderscore}{\kern0pt}stabilise\ injectivity{\isacharunderscore}{\kern0pt}theta{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ p\ X\ q\ p{\isacharprime}{\kern0pt}\ a\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ {\isacartoucheopen}p\ {\isasymlongmapsto}a\ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}a\ {\isasymin}\ X{\isacartoucheclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}p\ {\isasymlongmapsto}a\ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ {\isacartoucheopen}a\ {\isasymin}\ X{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ tran{\isacharunderscore}{\kern0pt}visible\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}\ Q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ Q{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}step{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ Q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}a\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}\ q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ q\ {\isasymlongmapsto}a\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}tran{\isacharunderscore}{\kern0pt}visible\ {\isacartoucheopen}a\ {\isasymin}\ X{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ q\ {\isasymlongmapsto}a\ q{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}R\ p{\isacharprime}{\kern0pt}\ None\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ p\ X\ q\ p{\isacharprime}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ {\isacartoucheopen}p\ {\isasymlongmapsto}{\isasymtau}\ \ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}p\ {\isasymlongmapsto}{\isasymtau}\ \ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymtau}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stable{\isacharunderscore}{\kern0pt}tau\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}\ Q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymtau}\ Q{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}step{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ Q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}{\isasymtau}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}\ q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ q\ {\isasymlongmapsto}{\isasymtau}\ \ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}stable{\isacharunderscore}{\kern0pt}tau\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ q\ {\isasymlongmapsto}{\isasymtau}\ \ q{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}R\ p{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ p\ X\ q\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ {\isacartoucheopen}idle\ p\ X{\isacartoucheclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ {\isacartoucheopen}idle\ p\ X{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t{\isacharunderscore}{\kern0pt}{\isasymepsilon}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ env{\isacharunderscore}{\kern0pt}timeout\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}\ Q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t{\isacharunderscore}{\kern0pt}{\isasymepsilon}\ Q{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}step{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ Q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t{\isacharunderscore}{\kern0pt}{\isasymepsilon}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}env{\isacharunderscore}{\kern0pt}timeout{\isacharbrackleft}{\kern0pt}OF\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t{\isacharunderscore}{\kern0pt}{\isasymepsilon}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ None\ q{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ p\ X\ q\ p{\isacharprime}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}R\ p\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacartoucheclose}\ {\isacartoucheopen}idle\ p\ X{\isacartoucheclose}\ {\isacartoucheopen}p\ {\isasymlongmapsto}t\ \ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isacartoucheopen}p\ {\isasymlongmapsto}t\ \ p{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ {\isacartoucheopen}idle\ p\ X{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sys{\isacharunderscore}{\kern0pt}timeout\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}\ Q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t\ Q{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lts{\isacharunderscore}{\kern0pt}theta{\isachardot}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}step{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ Q{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isasymlongmapsto}\isactrlsup {\isasymtheta}t\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}\ q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ Q{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ q\ {\isasymlongmapsto}t\ \ q{\isacharprime}{\kern0pt}\ {\isasymand}\ idle\ q\ X{\isacartoucheclose}\ \isacommand{using}\isamarkupfalse%
\ generation{\isacharunderscore}{\kern0pt}sys{\isacharunderscore}{\kern0pt}timeout\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ Q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}q{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ q\ {\isasymlongmapsto}t\ \ q{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharquery}{\kern0pt}R\ p{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Some\ X{\isacharparenright}{\kern0pt}\ q{\isacharprime}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sby{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}srby{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isacartoucheopen}{\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}p\ {\isasymleftrightarrow}\isactrlsub r\ q{\isacartoucheclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}SRB\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ strongly{\isacharunderscore}{\kern0pt}reactive{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sby{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}sxby{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isacartoucheopen}{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}p\ {\isasymleftrightarrow}\isactrlsub r\isactrlsup X\ q{\isacartoucheclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}SRB\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}bisimilarity{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ strongly{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
We need to include the assumption \isa{X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions}, since for \isa{{\isasymnot}\ X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions}, \isa{{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}} and \isa{{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}} might be identical (since we do not require injectivity for that subset of the domain), so \isa{{\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}} would be true, whereas \isa{p\ {\isasymleftrightarrow}\isactrlsub r\isactrlsup X\ q} would be false (since \isa{X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions} is part of the definition of SRBs).%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Iff (\boldmath{$\Longleftrightarrow$})%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimvisible
%
\endisadelimvisible
%
\isatagvisible
\isacommand{theorem}\isamarkupfalse%
\ strongly{\isacharunderscore}{\kern0pt}reactive{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}theta{\isacharunderscore}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}p\ {\isasymleftrightarrow}\isactrlsub r\ q\ \ {\isasymLongleftrightarrow}\ \ {\isasymtheta}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ sby{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}srby\ srby{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}sby\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ strongly{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}bisimilar{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}theta{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}strongly{\isacharunderscore}{\kern0pt}bisimilar{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isacartoucheopen}X\ {\isasymsubseteq}\ visible{\isacharunderscore}{\kern0pt}actions{\isacartoucheclose}\isanewline
\ \ \isakeyword{shows}\ {\isacartoucheopen}p\ {\isasymleftrightarrow}\isactrlsub r\isactrlsup X\ q\ \ {\isasymLongleftrightarrow}\ \ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymleftrightarrow}\ {\isasymtheta}{\isacharbrackleft}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ sxby{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}sby\ sby{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}sxby\ assms\ \isacommand{by}\isamarkupfalse%
\ fast%
\endisatagvisible
{\isafoldvisible}%
%
\isadelimvisible
%
\endisadelimvisible
\isanewline
\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
\ %
\isamarkupcmt{of \isa{context\ lts{\isacharunderscore}{\kern0pt}timeout{\isacharunderscore}{\kern0pt}mappable}%
}%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/reactive-bisimilarity-reduction/Reduction_of_Bisimilarity.thy%:%
%:%24=10%:%
%:%36=11%:%
%:%40=13%:%
%:%41=14%:%
%:%42=15%:%
%:%43=16%:%
%:%44=17%:%
%:%45=18%:%
%:%46=19%:%
%:%47=20%:%
%:%48=21%:%
%:%49=22%:%
%:%50=23%:%
%:%59=26%:%
%:%71=28%:%
%:%72=29%:%
%:%73=30%:%
%:%74=31%:%
%:%76=33%:%
%:%77=33%:%
%:%78=34%:%
%:%79=35%:%
%:%80=35%:%
%:%82=35%:%
%:%86=35%:%
%:%94=35%:%
%:%95=36%:%
%:%96=36%:%
%:%97=37%:%
%:%98=37%:%
%:%100=40%:%
%:%109=42%:%
%:%119=44%:%
%:%120=44%:%
%:%121=44%:%
%:%122=44%:%
%:%123=45%:%
%:%124=46%:%
%:%126=48%:%
%:%127=49%:%
%:%128=50%:%
%:%129=50%:%
%:%130=51%:%
%:%131=52%:%
%:%132=53%:%
%:%139=54%:%
%:%140=54%:%
%:%141=55%:%
%:%142=55%:%
%:%143=56%:%
%:%144=56%:%
%:%145=57%:%
%:%146=57%:%
%:%147=58%:%
%:%148=59%:%
%:%149=60%:%
%:%150=60%:%
%:%151=61%:%
%:%152=61%:%
%:%153=61%:%
%:%154=62%:%
%:%155=62%:%
%:%156=63%:%
%:%157=63%:%
%:%158=64%:%
%:%159=64%:%
%:%160=64%:%
%:%161=64%:%
%:%162=65%:%
%:%163=65%:%
%:%164=65%:%
%:%165=66%:%
%:%166=67%:%
%:%167=67%:%
%:%168=67%:%
%:%169=68%:%
%:%170=68%:%
%:%171=69%:%
%:%172=70%:%
%:%173=70%:%
%:%174=71%:%
%:%175=71%:%
%:%176=72%:%
%:%177=72%:%
%:%178=72%:%
%:%179=73%:%
%:%180=73%:%
%:%181=73%:%
%:%182=74%:%
%:%183=75%:%
%:%184=75%:%
%:%185=75%:%
%:%186=75%:%
%:%187=76%:%
%:%188=77%:%
%:%189=77%:%
%:%190=78%:%
%:%191=78%:%
%:%192=78%:%
%:%193=79%:%
%:%194=79%:%
%:%195=80%:%
%:%196=80%:%
%:%197=81%:%
%:%198=81%:%
%:%199=81%:%
%:%200=81%:%
%:%201=82%:%
%:%202=82%:%
%:%203=82%:%
%:%204=83%:%
%:%205=83%:%
%:%206=84%:%
%:%207=84%:%
%:%208=85%:%
%:%209=86%:%
%:%210=86%:%
%:%211=87%:%
%:%212=88%:%
%:%213=88%:%
%:%214=89%:%
%:%215=89%:%
%:%216=89%:%
%:%217=89%:%
%:%218=90%:%
%:%219=90%:%
%:%220=90%:%
%:%221=90%:%
%:%222=91%:%
%:%223=92%:%
%:%224=92%:%
%:%225=92%:%
%:%226=93%:%
%:%227=93%:%
%:%228=93%:%
%:%229=94%:%
%:%230=95%:%
%:%231=95%:%
%:%232=95%:%
%:%233=95%:%
%:%234=96%:%
%:%235=96%:%
%:%236=97%:%
%:%237=97%:%
%:%238=98%:%
%:%239=98%:%
%:%240=99%:%
%:%241=99%:%
%:%242=99%:%
%:%243=99%:%
%:%244=99%:%
%:%245=100%:%
%:%246=100%:%
%:%247=100%:%
%:%248=101%:%
%:%249=101%:%
%:%250=101%:%
%:%251=102%:%
%:%252=102%:%
%:%253=102%:%
%:%254=102%:%
%:%255=102%:%
%:%256=103%:%
%:%257=103%:%
%:%258=103%:%
%:%259=103%:%
%:%260=103%:%
%:%261=104%:%
%:%262=104%:%
%:%263=104%:%
%:%264=104%:%
%:%265=105%:%
%:%266=105%:%
%:%267=106%:%
%:%268=106%:%
%:%269=107%:%
%:%270=107%:%
%:%271=107%:%
%:%272=108%:%
%:%273=108%:%
%:%274=108%:%
%:%275=109%:%
%:%276=109%:%
%:%277=109%:%
%:%278=110%:%
%:%279=110%:%
%:%280=110%:%
%:%281=111%:%
%:%282=111%:%
%:%283=111%:%
%:%284=112%:%
%:%285=112%:%
%:%286=112%:%
%:%287=113%:%
%:%288=113%:%
%:%289=113%:%
%:%290=113%:%
%:%291=114%:%
%:%292=114%:%
%:%293=115%:%
%:%294=115%:%
%:%295=116%:%
%:%296=116%:%
%:%297=116%:%
%:%298=117%:%
%:%299=117%:%
%:%300=117%:%
%:%301=118%:%
%:%302=118%:%
%:%303=118%:%
%:%304=119%:%
%:%305=119%:%
%:%306=119%:%
%:%307=120%:%
%:%308=120%:%
%:%309=120%:%
%:%310=121%:%
%:%311=121%:%
%:%312=121%:%
%:%313=122%:%
%:%314=122%:%
%:%315=122%:%
%:%316=123%:%
%:%317=123%:%
%:%318=123%:%
%:%319=124%:%
%:%320=124%:%
%:%321=124%:%
%:%322=124%:%
%:%323=125%:%
%:%324=125%:%
%:%325=126%:%
%:%326=126%:%
%:%327=127%:%
%:%328=127%:%
%:%329=128%:%
%:%330=128%:%
%:%331=128%:%
%:%332=129%:%
%:%333=129%:%
%:%334=129%:%
%:%335=130%:%
%:%336=130%:%
%:%337=130%:%
%:%338=131%:%
%:%339=131%:%
%:%340=131%:%
%:%341=132%:%
%:%342=132%:%
%:%343=132%:%
%:%344=133%:%
%:%345=133%:%
%:%346=133%:%
%:%347=134%:%
%:%348=134%:%
%:%349=134%:%
%:%350=134%:%
%:%351=135%:%
%:%352=135%:%
%:%353=136%:%
%:%354=136%:%
%:%355=137%:%
%:%356=137%:%
%:%357=138%:%
%:%358=138%:%
%:%359=139%:%
%:%360=140%:%
%:%361=140%:%
%:%362=141%:%
%:%363=142%:%
%:%364=142%:%
%:%365=142%:%
%:%366=143%:%
%:%367=144%:%
%:%368=144%:%
%:%369=144%:%
%:%370=145%:%
%:%371=145%:%
%:%372=145%:%
%:%373=146%:%
%:%379=146%:%
%:%382=147%:%
%:%383=148%:%
%:%384=148%:%
%:%385=149%:%
%:%386=150%:%
%:%389=151%:%
%:%393=151%:%
%:%394=151%:%
%:%395=152%:%
%:%396=152%:%
%:%401=152%:%
%:%404=153%:%
%:%405=154%:%
%:%406=154%:%
%:%407=155%:%
%:%408=156%:%
%:%411=157%:%
%:%415=157%:%
%:%416=157%:%
%:%417=158%:%
%:%418=158%:%
%:%432=161%:%
%:%442=163%:%
%:%443=163%:%
%:%444=163%:%
%:%445=163%:%
%:%446=164%:%
%:%447=165%:%
%:%449=167%:%
%:%450=168%:%
%:%451=169%:%
%:%452=169%:%
%:%453=170%:%
%:%454=171%:%
%:%457=172%:%
%:%461=172%:%
%:%462=172%:%
%:%463=173%:%
%:%464=173%:%
%:%465=174%:%
%:%466=174%:%
%:%467=175%:%
%:%468=175%:%
%:%469=176%:%
%:%470=176%:%
%:%471=176%:%
%:%472=176%:%
%:%473=176%:%
%:%474=177%:%
%:%475=177%:%
%:%476=178%:%
%:%477=178%:%
%:%478=179%:%
%:%479=179%:%
%:%480=180%:%
%:%481=180%:%
%:%482=180%:%
%:%483=180%:%
%:%484=181%:%
%:%485=181%:%
%:%486=182%:%
%:%487=182%:%
%:%488=183%:%
%:%489=183%:%
%:%490=184%:%
%:%491=185%:%
%:%492=185%:%
%:%493=185%:%
%:%494=186%:%
%:%495=186%:%
%:%496=186%:%
%:%497=187%:%
%:%498=187%:%
%:%499=187%:%
%:%500=188%:%
%:%501=188%:%
%:%502=188%:%
%:%503=189%:%
%:%504=189%:%
%:%505=189%:%
%:%506=190%:%
%:%507=190%:%
%:%508=190%:%
%:%509=191%:%
%:%510=191%:%
%:%511=191%:%
%:%512=192%:%
%:%513=192%:%
%:%514=192%:%
%:%515=193%:%
%:%516=193%:%
%:%517=193%:%
%:%518=193%:%
%:%519=194%:%
%:%520=194%:%
%:%521=194%:%
%:%522=195%:%
%:%523=195%:%
%:%524=195%:%
%:%525=196%:%
%:%526=196%:%
%:%527=197%:%
%:%528=197%:%
%:%529=198%:%
%:%530=198%:%
%:%531=199%:%
%:%532=199%:%
%:%533=199%:%
%:%534=199%:%
%:%535=199%:%
%:%536=200%:%
%:%537=200%:%
%:%538=200%:%
%:%539=200%:%
%:%540=201%:%
%:%541=201%:%
%:%542=201%:%
%:%543=202%:%
%:%544=202%:%
%:%545=202%:%
%:%546=203%:%
%:%547=203%:%
%:%548=203%:%
%:%549=204%:%
%:%550=204%:%
%:%551=204%:%
%:%552=205%:%
%:%553=205%:%
%:%554=205%:%
%:%555=205%:%
%:%556=206%:%
%:%557=206%:%
%:%558=206%:%
%:%559=206%:%
%:%560=207%:%
%:%561=207%:%
%:%562=208%:%
%:%563=208%:%
%:%564=209%:%
%:%565=209%:%
%:%566=210%:%
%:%567=210%:%
%:%568=210%:%
%:%569=210%:%
%:%570=211%:%
%:%571=211%:%
%:%572=211%:%
%:%573=212%:%
%:%574=212%:%
%:%575=212%:%
%:%576=213%:%
%:%577=213%:%
%:%578=213%:%
%:%579=214%:%
%:%580=214%:%
%:%581=214%:%
%:%582=215%:%
%:%583=215%:%
%:%584=215%:%
%:%585=215%:%
%:%586=216%:%
%:%587=216%:%
%:%588=216%:%
%:%589=216%:%
%:%590=217%:%
%:%591=217%:%
%:%592=217%:%
%:%593=217%:%
%:%594=217%:%
%:%595=218%:%
%:%596=218%:%
%:%597=219%:%
%:%598=219%:%
%:%599=220%:%
%:%600=220%:%
%:%601=221%:%
%:%602=221%:%
%:%603=221%:%
%:%604=221%:%
%:%605=222%:%
%:%606=222%:%
%:%607=222%:%
%:%608=223%:%
%:%609=223%:%
%:%610=223%:%
%:%611=224%:%
%:%612=224%:%
%:%613=224%:%
%:%614=225%:%
%:%615=225%:%
%:%616=225%:%
%:%617=226%:%
%:%618=226%:%
%:%619=226%:%
%:%620=226%:%
%:%621=227%:%
%:%622=227%:%
%:%623=227%:%
%:%624=227%:%
%:%625=228%:%
%:%626=228%:%
%:%627=228%:%
%:%628=229%:%
%:%629=229%:%
%:%630=229%:%
%:%631=230%:%
%:%632=230%:%
%:%633=231%:%
%:%634=231%:%
%:%635=232%:%
%:%636=232%:%
%:%637=233%:%
%:%638=233%:%
%:%639=233%:%
%:%640=233%:%
%:%641=234%:%
%:%642=234%:%
%:%643=234%:%
%:%644=235%:%
%:%645=235%:%
%:%646=235%:%
%:%647=236%:%
%:%648=236%:%
%:%649=236%:%
%:%650=237%:%
%:%651=237%:%
%:%652=237%:%
%:%653=238%:%
%:%654=238%:%
%:%655=238%:%
%:%656=238%:%
%:%657=239%:%
%:%658=239%:%
%:%659=239%:%
%:%660=239%:%
%:%661=240%:%
%:%662=240%:%
%:%663=240%:%
%:%664=240%:%
%:%665=240%:%
%:%666=241%:%
%:%667=241%:%
%:%668=242%:%
%:%669=242%:%
%:%670=243%:%
%:%671=243%:%
%:%672=244%:%
%:%673=244%:%
%:%674=244%:%
%:%675=244%:%
%:%676=245%:%
%:%677=245%:%
%:%678=245%:%
%:%679=246%:%
%:%680=246%:%
%:%681=246%:%
%:%682=247%:%
%:%683=247%:%
%:%684=247%:%
%:%685=248%:%
%:%686=248%:%
%:%687=248%:%
%:%688=249%:%
%:%689=249%:%
%:%690=249%:%
%:%691=249%:%
%:%692=250%:%
%:%693=250%:%
%:%694=250%:%
%:%695=250%:%
%:%696=251%:%
%:%697=251%:%
%:%698=251%:%
%:%699=252%:%
%:%700=252%:%
%:%701=252%:%
%:%702=253%:%
%:%708=253%:%
%:%711=254%:%
%:%712=255%:%
%:%713=255%:%
%:%714=256%:%
%:%715=257%:%
%:%718=258%:%
%:%722=258%:%
%:%723=258%:%
%:%724=259%:%
%:%725=259%:%
%:%726=259%:%
%:%731=259%:%
%:%734=260%:%
%:%735=261%:%
%:%736=261%:%
%:%737=262%:%
%:%738=263%:%
%:%740=263%:%
%:%744=263%:%
%:%745=263%:%
%:%746=264%:%
%:%747=264%:%
%:%748=264%:%
%:%757=266%:%
%:%766=269%:%
%:%782=271%:%
%:%783=271%:%
%:%784=272%:%
%:%785=273%:%
%:%786=273%:%
%:%787=273%:%
%:%788=274%:%
%:%789=275%:%
%:%790=275%:%
%:%791=276%:%
%:%792=277%:%
%:%793=278%:%
%:%794=278%:%
%:%795=278%:%
%:%802=278%:%
%:%803=279%:%
%:%804=280%:%
%:%805=281%:%
%:%806=281%:%
%:%807=281%:%